




- name: Set up Kubeconfig for AKS
  run: |
    echo "ðŸ“ Creating ~/.kube directory"
    mkdir -p ~/.kube

    echo "ðŸ” Decoding kubeconfig and writing to ~/.kube/config"
    echo "${{ steps.terraform_outputs.outputs.AKS_KUBECFG }}" | base64 -d > ~/.kube/config

    echo "ðŸ”’ Securing config file permissions"
    chmod 600 ~/.kube/config

    echo "âœ… kubeconfig is in place"